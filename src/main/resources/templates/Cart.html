<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Giỏ Hàng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h2 class="mb-4">Giỏ hàng</h2>

<table class="table align-middle">
    <thead>
    <tr>
        <th style="width: 15%">Hình ảnh</th>
        <th style="width: 40%">Thông tin sản phẩm</th>
        <th style="width: 15%">Đơn giá</th>
        <th style="width: 15%">Số lượng</th>
        <th style="width: 15%">Tổng</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="item : ${cartItems}">
        <!-- Ảnh sản phẩm -->
        <td>
            <img th:src="@{${item.image}}" class="img-fluid" style="max-height:120px">
        </td>

        <!-- Thông tin chi tiết -->
        <td>
            <strong th:text="${item.productName}">Tên sản phẩm</strong>
            <div>Phiên bản: <span th:text="${item.version}">Default</span></div>
            <div>Thương hiệu: <span th:text="${item.brand}">Khác</span></div>
            <a th:href="@{'/cart/remove/' + ${item.productName}}" class="text-danger small">Xóa</a>
        </td>

        <!-- Đơn giá -->
        <td class="text-danger fw-bold"
            th:text="${#numbers.formatInteger(item.price, 0, 'POINT')} + '₫'"></td>

        <!-- Số lượng -->
        <td>
            <div class="d-flex align-items-center">
                <button class="btn btn-outline-secondary btn-sm">−</button>
                <input type="text" th:value="${item.quantity}" class="form-control text-center mx-1" style="width:50px">
                <button class="btn btn-outline-secondary btn-sm">+</button>
            </div>
        </td>

        <!-- Tổng -->
        <td class="text-danger fw-bold"
            th:text="${#numbers.formatInteger(item.total, 0, 'POINT')} + '₫'"></td>
    </tr>
    </tbody>
</table>

<!-- Tổng cộng -->
<div class="d-flex justify-content-end align-items-center">
    <h4 class="me-3">Tổng tiền:
        <span class="text-danger fw-bold" th:text="${#numbers.formatInteger(total, 0, 'POINT')} + '₫'">0₫</span>
    </h4>
    <button class="btn btn-dark me-2">Cập nhật</button>
    <button class="btn btn-danger">Thanh toán</button>
</div>

<a href="/" class="btn btn-secondary mt-3">Tiếp tục mua hàng</a>

</body>
</html>
